@* googlemaps.scala.html *@

@(id: String = "map", position: String = "55, 0", zoom: String = "6")

	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=false"></script>
	<script>
		
		var map;
		
		function initialize() {

			var mapOptions = {
				zoom: @zoom,
				center: new google.maps.LatLng( @position ),
				mapTypeId: google.maps.MapTypeId.ROADMAP
			};
			map = new google.maps.Map(document.getElementById( '@id' ), mapOptions);

			findCurrentLocation(map)
		}

		function findCurrentLocation(map){
			
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(function(position){
					var userLatLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
					map.panTo(userLatLng)
					map.setZoom(13)	
				});
			} else {
				console.log("No geolocation", navigator)
			}	
		}

		google.maps.event.addDomListener(window, 'load', initialize);



		

	</script>
